<div class="relative">
    <MudPopover Open="@Visible" AnchorOrigin="Origin.TopRight" Class="ml-4 px-4 pt-3 pb-2">
        <MudStack>
            <MudText Typo="Typo.h6">Add css or js link from the internet</MudText>
            <div>
                <MudStack Spacing="1" Row AlignItems="AlignItems.Center">
                    <MudTextField @bind-Value="@AddLink"
                                  Variant="Variant.Outlined"
                                  Margin="Margin.Dense"
                                  Class="try-save-snippet-input"
                                  AdornmentIcon="@Icons.Material.Filled.ContentPaste"
                                  Adornment="@Adornment.End"
                                  OnAdornmentClick="@PasteLinkFromClipboard" />
                    <MudIconButton Icon="@Icons.Material.Filled.Add" OnClick="@VerifyLink" Class="pa-2 mr-n3" Size="Size.Small" />
                </MudStack>
            </div>

            @if (Loading)
            {
                <MudProgressLinear Color="Color.Primary" Indeterminate="true" Class="my-4" />
            }
            else
            {
                <div style="width: 400px">
                    <MudList T="string" ReadOnly>
                        @foreach (var item in AddLinks)
                        {
                            <MudListItem>
                                <MudStack Row AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween">
                                    <MudText Typo="Typo.body2">@item.Name</MudText>
                                    <MudStack Row AlignItems="AlignItems.Center" Spacing="2">
                                        <MudSwitch Color="Color.Primary" @bind-Value="@item.IsIncluded" />
                                        <MudIconButton Icon="@Icons.Material.Filled.Delete" Color="Color.Error" OnClick="@(() => DeleteLink(item))" />
                                    </MudStack>
                                </MudStack>
                            </MudListItem>
                        }
                    </MudList>
                </div>
            }
        </MudStack>
    </MudPopover>
    <MudOverlay Visible="Visible" OnClick="OnClose" />
</div>

